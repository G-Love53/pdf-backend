<%
// Establish defaults for agency information
const defaults = {
  // Agency Information (pre-filled)
  producerName: "All Access Ins, dba Commercial Insurance Direct LLC",
  producerAddress1: "9200 W Cross Drive #515",
  producerAddress2: "Littleton, CO 80123",
  producerContact: "Rick Cline or Gerry Jones",
  producerPhone: "(555) 123-4567",
  producerFax: "(555) 123-4568",
  producerEmail: "quote@barinsurancedirect.com",

  // Default dates and transaction
  date: formatDate(),
  effectiveDate: formatDate(),
  transactionType: "QUOTE",
  timeAMPM: "AM", // data-driven AM/PM

  // Lines of Business (explicit so nothing is undefined)
  boilerMachinery: false,
  cyberPrivacy: false,
  hiredNonOwnedAuto: false,
  businessAuto: false,
  fiduciaryLiability: false,
  businessOwners: false,
  garageDealers: false,
  commercialInlandMarine: false,
  motorCarrier: false,
  truckers: false,
  crime: false,

  // Bar-typical defaults (set to true â€” adjust per submission if needed)
  commercialGeneralLiability: true,
  liquorLiability: true,
  commercialProperty: true,
  umbrella: true,

  // Attachments (explicit falsy defaults)
  accountsReceivable: false,
  glassSign: false,
  statementValues: false,
  additionalInterest: false,
  hotelMotel: false,
  stateSupplement: false,
  additionalPremises: false,
  installation: false,
  vacantBuilding: false,
  apartmentBuilding: false,
  intlLiability: false,
  vehicleSchedule: false,
  condoAssn: false,
  intlProperty: false,
  contractors: false,
  lossHistory: false,
  coverages: false,
  openCargo: false,
  dealers: false,
  premiumPayment: false,
  driverInfo: false,
  professional: false,
  electronicData: false,
  restaurant: false
};

// Merge user data with defaults
const data = Object.assign({}, defaults, formData || {});

// Print-fidelity / ACORD-like styles
const styles = `
  @page { 
    size: 8.5in 11in; 
    margin: 0.25in;
  }

  * {
    box-sizing: border-box;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  body { 
    margin: 0; 
    padding: 0;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 8pt;
    line-height: 1.1;
    color:#000;
  }

  .page {
    width: 8in;
    height: 10.5in;
    position: relative;
    page-break-after: always;
    padding: 0.1in;
  }

  /* ACORD Header */
  .acord-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 2px solid #000;
    padding: 5px;
    margin-bottom: 5px;
  }

  .acord-logo {
    font-weight: 800;
    font-size: 12pt;
  }

  .form-title {
    font-size: 11pt;
    font-weight: 700;
    letter-spacing: 0.3px;
    text-align: center;
    flex-grow: 1;
  }

  .acord-code {
    border: 1px solid #000;
    padding: 2px 6px;
    font-weight: 700;
  }

  /* Section styling */
  .section {
    border: 1px solid #000;
    margin-bottom: 3px;
  }

  .section-header {
    background: #e6e6e6;
    padding: 2px 5px;
    font-weight: bold;
    font-size: 8pt;
    border-bottom: 1px solid #000;
    letter-spacing: 0.2px;
    text-transform: uppercase;
  }

  .row {
    display: flex;
    border-bottom: 1px solid #000;
  }

  .row:last-child {
    border-bottom: none;
  }

  .field {
    padding: 2px 3px;
    border-right: 1px solid #000;
    display: flex;
    align-items: center;
    min-height: 18px;
    font-size: 8pt;
  }

  .field:last-child {
    border-right: none;
  }

  .label {
    background: #f5f5f5;
    font-size: 7pt;
    font-weight: bold;
    letter-spacing: 0.2px;
    text-transform: uppercase;
  }

  .checkbox {
    display: inline-block;
    width: 10px;
    height: 10px;
    border: 1px solid #000;
    text-align: center;
    line-height: 10px;
    font-size: 8pt;
    margin-right: 2px;
  }

  .checkbox-group {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
  }

  .w5 { width: 5%; }
  .w10 { width: 10%; }
  .w15 { width: 15%; }
  .w20 { width: 20%; }
  .w25 { width: 25%; }
  .w30 { width: 30%; }
  .w35 { width: 35%; }
  .w40 { width: 40%; }
  .w45 { width: 45%; }
  .w50 { width: 50%; }
  .w55 { width: 55%; }
  .w60 { width: 60%; }
  .w65 { width: 65%; }
  .w70 { width: 70%; }
  .w75 { width: 75%; }
  .w100 { width: 100%; }

  .center { text-align: center; }
  .right { text-align: right; }

  .footer-text { 
    font-size: 7pt; 
    text-align: center;
    margin-top: 10px;
  }
`;
%>
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>ACORD 125 - Commercial Insurance Application</title>
  <style><%= styles %></style>
</head>
<body>

<!-- PAGE 1 -->
<div class="page">
  
  <!-- ACORD Header -->
  <div class="acord-header">
    <span class="acord-logo">ACORD</span>
    <span class="form-title">COMMERCIAL INSURANCE APPLICATION</span>
    <span class="acord-code">125</span>
  </div>
  
  <!-- Producer Section -->
  <div class="section">
    <div class="section-header">PRODUCER</div>
    <div class="row">
      <div class="field label w15">PRODUCER</div>
      <div class="field w35">
        <%= data.producerName %><br/>
        <%= data.producerAddress1 %><br/>
        <%= data.producerAddress2 %>
      </div>
      <div class="field label w15">DATE (MM/DD/YYYY)</div>
      <div class="field w15"><%= data.date %></div>
      <div class="field label w10">CARRIER</div>
      <div class="field w10"></div>
    </div>
    <div class="row">
      <div class="field label w15">CONTACT NAME</div>
      <div class="field w35"><%= data.producerContact %></div>
      <div class="field label w10">NAIC CODE</div>
      <div class="field w10"></div>
      <div class="field label w20">COMPANY POLICY OR PROGRAM NAME</div>
      <div class="field w10"></div>
    </div>
    <div class="row">
      <div class="field label w10">PHONE (A/C, No, Ext)</div>
      <div class="field w15"><%= data.producerPhone %></div>
      <div class="field label w10">FAX (A/C, No)</div>
      <div class="field w15"><%= data.producerFax %></div>
      <div class="field label w10">POLICY NUMBER</div>  <!-- was w15 -->
      <div class="field w40"></div>                    <!-- was w35 -->
    </div>
    <div class="row">
      <div class="field label w10">E-MAIL</div>
      <div class="field w40"><%= data.producerEmail %></div>
      <div class="field label w15">UNDERWRITER</div>
      <div class="field w15"></div>
      <div class="field label w15">UNDERWRITER OFFICE</div>
      <div class="field w5"></div>
    </div>
    <div class="row">
      <div class="field label w10">CODE</div>
      <div class="field w15"></div>
      <div class="field label w10">SUBCODE</div>
      <div class="field w15"></div>
      <div class="field label w20">AGENCY CUSTOMER ID</div>
      <div class="field w30"></div>
    </div>
    <div class="row">
      <div class="field label w20">STATUS OF TRANSACTION</div>
      <div class="field w80 checkbox-group">
        <span class="checkbox"><%= data.transactionType === "QUOTE" ? "X" : "" %></span> QUOTE
        <span class="checkbox"><%= data.transactionType === "ISSUE" ? "X" : "" %></span> ISSUE POLICY
        <span class="checkbox"><%= data.transactionType === "RENEW" ? "X" : "" %></span> RENEW
        <span class="checkbox"><%= data.transactionType === "BOUND" ? "X" : "" %></span> BOUND (Give Date and/or Attach Copy)
        <span class="checkbox"><%= data.transactionType === "CHANGE" ? "X" : "" %></span> CHANGE
        <span class="checkbox"><%= data.transactionType === "CANCEL" ? "X" : "" %></span> CANCEL
        TIME: 12:01 
        <span class="checkbox"><%= data.timeAMPM === "AM" ? "X" : "" %></span> AM 
        <span class="checkbox"><%= data.timeAMPM === "PM" ? "X" : "" %></span> PM
      </div>
    </div>
  </div>
  
  <!-- Lines of Business -->
  <div class="section">
    <div class="section-header">LINES OF BUSINESS</div>
    <div class="row">
      <div class="field label w25">INDICATE LINES OF BUSINESS</div>
      <div class="field label w10 center">PREMIUM</div>
      <div class="field w15"></div>
      <div class="field label w10 center">PREMIUM</div>
      <div class="field w15"></div>
      <div class="field label w10 center">PREMIUM</div>
      <div class="field w15"></div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.boilerMachinery ? "X" : "" %></span> BOILER & MACHINERY</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.cyberPrivacy ? "X" : "" %></span> CYBER AND PRIVACY</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.hiredNonOwnedAuto ? "X" : "" %></span> HIRED & NON-OWNED AUTO</div>
      <div class="field w10 right">$</div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.businessAuto ? "X" : "" %></span> BUSINESS AUTO</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.fiduciaryLiability ? "X" : "" %></span> FIDUCIARY LIABILITY</div>
      <div class="field w10 right">$</div>
      <div class="field w25"></div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.businessOwners ? "X" : "" %></span> BUSINESS OWNERS</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.garageDealers ? "X" : "" %></span> GARAGE AND DEALERS</div>
      <div class="field w10 right">$</div>
      <div class="field w25"></div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.commercialGeneralLiability ? "X" : "" %></span> COMMERCIAL GENERAL LIABILITY</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.liquorLiability ? "X" : "" %></span> LIQUOR LIABILITY</div>
      <div class="field w10 right">$</div>
      <div class="field w25"></div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.commercialInlandMarine ? "X" : "" %></span> COMMERCIAL INLAND MARINE</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.motorCarrier ? "X" : "" %></span> MOTOR CARRIER</div>
      <div class="field w10 right">$</div>
      <div class="field w25"></div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.commercialProperty ? "X" : "" %></span> COMMERCIAL PROPERTY</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.truckers ? "X" : "" %></span> TRUCKERS</div>
      <div class="field w10 right">$</div>
      <div class="field w25"></div>
    </div>
    <div class="row">
      <div class="field w25"><span class="checkbox"><%= data.crime ? "X" : "" %></span> CRIME</div>
      <div class="field w10 right">$</div>
      <div class="field w15"><span class="checkbox"><%= data.umbrella ? "X" : "" %></span> UMBRELLA</div>
      <div class="field w10 right">$</div>
      <div class="field w25"></div>
    </div>
  </div>
  
  <!-- Attachments -->
  <div class="section">
    <div class="section-header">ATTACHMENTS</div>
    <div class="row">
      <div class="field w100" style="font-size: 7pt;">
        <span class="checkbox"><%= data.accountsReceivable ? "X" : "" %></span> ACCOUNTS RECEIVABLE / VALUABLE PAPERS&nbsp;&nbsp;
        <span class="checkbox"><%= data.glassSign ? "X" : "" %></span> GLASS AND SIGN SECTION&nbsp;&nbsp;
        <span class="checkbox"><%= data.statementValues ? "X" : "" %></span> STATEMENT / SCHEDULE OF VALUES<br/>
        <span class="checkbox"><%= data.additionalInterest ? "X" : "" %></span> ADDITIONAL INTEREST SCHEDULE&nbsp;&nbsp;
        <span class="checkbox"><%= data.hotelMotel ? "X" : "" %></span> HOTEL / MOTEL SUPPLEMENT&nbsp;&nbsp;
        <span class="checkbox"><%= data.stateSupplement ? "X" : "" %></span> STATE SUPPLEMENT (If applicable)<br/>
        <span class="checkbox"><%= data.additionalPremises ? "X" : "" %></span> ADDITIONAL PREMISES INFORMATION SCHEDULE&nbsp;&nbsp;
        <span class="checkbox"><%= data.installation ? "X" : "" %></span> INSTALLATION / BUILDERS RISK SECTION&nbsp;&nbsp;
        <span class="checkbox"><%= data.vacantBuilding ? "X" : "" %></span> VACANT BUILDING SUPPLEMENT<br/>
        <span class="checkbox"><%= data.apartmentBuilding ? "X" : "" %></span> APARTMENT BUILDING SUPPLEMENT&nbsp;&nbsp;
        <span class="checkbox"><%= data.intlLiability ? "X" : "" %></span> INTERNATIONAL LIABILITY EXPOSURE SUPPLEMENT&nbsp;&nbsp;
        <span class="checkbox"><%= data.vehicleSchedule ? "X" : "" %></span> VEHICLE SCHEDULE<br/>
        <span class="checkbox"><%= data.condoAssn ? "X" : "" %></span> CONDO ASSN BYLAWS (for D&O Coverage only)&nbsp;&nbsp;
        <span class="checkbox"><%= data.intlProperty ? "X" : "" %></span> INTERNATIONAL PROPERTY EXPOSURE SUPPLEMENT<br/>
        <span class="checkbox"><%= data.contractors ? "X" : "" %></span> CONTRACTORS SUPPLEMENT&nbsp;&nbsp;
        <span class="checkbox"><%= data.lossHistory ? "X" : "" %></span> LOSS SUMMARY<br/>
        <span class="checkbox"><%= data.coverages ? "X" : "" %></span> COVERAGES SCHEDULE&nbsp;&nbsp;
        <span class="checkbox"><%= data.openCargo ? "X" : "" %></span> OPEN CARGO SECTION<br/>
        <span class="checkbox"><%= data.dealers ? "X" : "" %></span> DEALERS SECTION&nbsp;&nbsp;
        <span class="checkbox"><%= data.premiumPayment ? "X" : "" %></span> PREMIUM PAYMENT SUPPLEMENT<br/>
        <span class="checkbox"><%= data.driverInfo ? "X" : "" %></span> DRIVER INFORMATION SCHEDULE&nbsp;&nbsp;
        <span class="checkbox"><%= data.professional ? "X" : "" %></span> PROFESSIONAL LIABILITY SUPPLEMENT<br/>
        <span class="checkbox"><%= data.electronicData ? "X" : "" %></span> ELECTRONIC DATA PROCESSING SECTION&nbsp;&nbsp;
        <span class="checkbox"><%= data.restaurant ? "X" : "" %></span> RESTAURANT / TAVERN SUPPLEMENT
      </div>
    </div>
  </div>
  
  <!-- Policy Information -->
  <div class="section">
    <div class="section-header">POLICY INFORMATION</div>
    <div class="row">
      <div class="field label w20">PROPOSED EFF DATE</div>
      <div class="field w15"><%= data.effectiveDate %></div>
      <div class="field label w20">PROPOSED EXP DATE</div>
      <div class="field w15"><%= data.expirationDate || "" %></div>
      <div class="field label w15">BILLING PLAN</div>
      <div class="field w15"></div>
    </div>
    <div class="row">
      <div class="field w35"></div>
      <div class="field w35"></div>
      <div class="field label w15">MO PMT PLAN/YEAR</div>
      <div class="field w15"></div>
    </div>
    <div class="row">
      <div class="field label w15">METHOD OF PAYMENT</div>
      <div class="field w20"></div>
      <div class="field label w10">AUDIT</div>
      <div class="field w10"></div>
      <div class="field label w10">DEPOSIT</div>
      <div class="field w10 right">$</div>
      <div class="field label w15">MINIMUM PREMIUM</div>
      <div class="field w10 right">$</div>
    </div>
    <div class="row">
      <div class="field w35"></div>
      <div class="field w20 center">DIRECT&nbsp;&nbsp;<span class="checkbox"></span>&nbsp;&nbsp;AGENCY&nbsp;&nbsp;<span class="checkbox"></span></div>
      <div class="field w20"></div>
      <div class="field label w15">POLICY PREMIUM</div>
      <div class="field w10 right">$</div>
    </div>
  </div>
  
  <!-- Footer -->
  <div class="footer-text">
    ACORD 125 (2025/03) &nbsp;&nbsp;&nbsp; Page 1 of 5 &nbsp;&nbsp;&nbsp; Â© 1993-2025 ACORD CORPORATION. All rights reserved.<br/>
    The ACORD name and logo are registered marks of ACORD
  </div>
</div>
<!-- End of Page 1 -->

<!-- PAGE 2 -->
<div class="page">
  <!-- ACORD Header -->
  <div class="acord-header">
    <span class="acord-logo">ACORD</span>
    <span class="form-title">
      COMMERCIAL INSURANCE APPLICATION<br/>
      <span style="font-size: 9pt;">APPLICANT INFORMATION SECTION</span>
    </span>
    <span class="acord-code">125</span>
  </div>

  <!-- Applicant Information (First Named Insured) -->
  <div class="section">
    <div class="section-header">APPLICANT INFORMATION</div>
    <div class="row">
      <div class="field label w30">NAME (FIRST NAMED INSURED) AND MAILING ADDRESS</div>
      <div class="field w40">
        <%= (data.namedInsured?.legalName || data.businessName || data.applicantName || "") %><br/>
        <%= (data.namedInsured?.mailAddress1 || data.mailingAddress || data.businessAddress || "") %><br/>
        <%= (data.namedInsured?.city || data.mailingCity || "") %>, 
        <%= (data.namedInsured?.state || data.mailingState || "") %> 
        <%= (data.namedInsured?.zip || data.mailingZip || "") %>
      </div>
      <div class="field label w10">GL CODE</div>
      <div class="field w10"><%= data.glCode || "" %></div>
      <div class="field label w5">SIC</div>
      <div class="field w5"><%= data.sicCode || "" %></div>
    </div>
    <div class="row">
      <div class="field label w15">BUSINESS PHONE #</div>
      <div class="field w15"><%= data.businessPhone || data.contacts?.primary?.phone || "" %></div>
      <div class="field label w10">NAICS</div>
      <div class="field w10"><%= data.naicsCode || "" %></div>
      <div class="field label w15">FEIN OR SOC SEC #</div>
      <div class="field w15"><%= data.fein || data.taxId || "" %></div>
      <div class="field label w15">WEBSITE ADDRESS</div>
      <div class="field w15"><%= data.website || data.business?.website || "" %></div>
    </div>
    <div class="row">
      <div class="field w100 checkbox-group">
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "CORPORATION" ? "X" : "" %></span> CORPORATION
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "INDIVIDUAL" ? "X" : "" %></span> INDIVIDUAL
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "LLC" ? "X" : "" %></span> LLC
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "JOINT_VENTURE" ? "X" : "" %></span> JOINT VENTURE
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "PARTNERSHIP" ? "X" : "" %></span> PARTNERSHIP
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "NOT_FOR_PROFIT" ? "X" : "" %></span> NOT FOR PROFIT ORG
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "SUBCHAPTER_S" ? "X" : "" %></span> SUBCHAPTER "S" CORPORATION
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "TRUST" ? "X" : "" %></span> TRUST
        <span class="checkbox"><%= (data.business?.entityType || data.entityType) === "OTHER" ? "X" : "" %></span> OTHER
      </div>
    </div>
    <div class="row">
      <div class="field label w20">NO. OF MEMBERS/MANAGERS</div>
      <div class="field w30"><%= data.numberOfMembers || data.business?.membersManagers || "" %></div>
      <div class="field label w20">NO. OF PARTNERS/OFFICERS</div>
      <div class="field w30"><%= data.partnersOfficers || data.trustManagers || "" %></div>
    </div>
  </div>

  <!-- Contact Information -->
  <div class="section">
    <div class="section-header">CONTACT INFORMATION</div>
    <div class="row">
      <div class="field label w15">CONTACT TYPE</div>
      <div class="field label w20">CONTACT NAME</div>
      <div class="field label w15">PRIMARY PHONE</div>
      <div class="field label w15">SECONDARY PHONE</div>
      <div class="field label w35">E-MAIL</div>
    </div>
    <div class="row">
      <div class="field w15">PRIMARY</div>
      <div class="field w20"><%= data.primaryContactName || data.contacts?.primary?.name || "" %></div>
      <div class="field w15"><%= data.primaryContactPhone || data.contacts?.primary?.phone || "" %></div>
      <div class="field w15"><%= data.primaryContactCell || data.contacts?.primary?.mobile || "" %></div>
      <div class="field w35"><%= data.primaryContactEmail || data.contacts?.primary?.email || "" %></div>
    </div>
    <div class="row">
      <div class="field w15">SECONDARY</div>
      <div class="field w20"><%= data.secondaryContactName || data.contacts?.accounting?.name || "" %></div>
      <div class="field w15"><%= data.secondaryContactPhone || data.contacts?.accounting?.phone || "" %></div>
      <div class="field w15"><%= data.secondaryContactCell || data.contacts?.accounting?.mobile || "" %></div>
      <div class="field w35"><%= data.secondaryContactEmail || data.contacts?.accounting?.email || "" %></div>
    </div>
  </div>

  <!-- Premises Information Location 1 -->
  <div class="section">
    <div class="section-header">PREMISES INFORMATION (ATTACH ACORD 823 FOR ADDITIONAL PREMISES)</div>
    <div class="row">
      <div class="field label w5">LOC #</div>
      <div class="field w5">1</div>
      <div class="field label w10">BLD #</div>
      <div class="field w5">1</div>
      <div class="field label w10">STREET</div>
      <div class="field w65">
        <%= (data.locations?.[0]?.address1 || data.location1Address || data.businessAddress || "") %>
      </div>
    </div>
    <div class="row">
      <div class="field label w10">CITY</div>
      <div class="field w20"><%= (data.locations?.[0]?.city || data.location1City || data.businessCity || "") %></div>
      <div class="field label w10">COUNTY</div>
      <div class="field w15"><%= (data.locations?.[0]?.county || data.location1County || "") %></div>
      <div class="field label w10">STATE</div>
      <div class="field w10"><%= (data.locations?.[0]?.state || data.location1State || data.businessState || "") %></div>
      <div class="field label w10">ZIP</div>
      <div class="field w15"><%= (data.locations?.[0]?.zip || data.location1Zip || data.businessZip || "") %></div>
    </div>
    <div class="row">
      <div class="field label w10">CITY LIMITS</div>
      <div class="field w10 checkbox-group">
        <span class="checkbox"><%= (data.locations?.[0]?.cityLimits ?? data.location1CityLimits) === true ? "X" : "" %></span> INSIDE
        <span class="checkbox"><%= (data.locations?.[0]?.cityLimits ?? data.location1CityLimits) === false ? "X" : "" %></span> OUTSIDE
      </div>
      <div class="field label w10">INTEREST</div>
      <div class="field w10 checkbox-group">
        <span class="checkbox"><%= (data.locations?.[0]?.interest || data.location1Interest) === "OWNER" ? "X" : "" %></span> OWNER
        <span class="checkbox"><%= (data.locations?.[0]?.interest || data.location1Interest) === "TENANT" ? "X" : "" %></span> TENANT
      </div>
      <div class="field label w15"># FULL TIME EMPL</div>
      <div class="field w10"><%= (data.locations?.[0]?.fullTimeEmployees || data.location1FullTimeEmployees || data.fullTimeEmployees || "") %></div>
      <div class="field label w15"># PART TIME EMPL</div>
      <div class="field w10"><%= (data.locations?.[0]?.partTimeEmployees || data.location1PartTimeEmployees || data.partTimeEmployees || "") %></div>
    </div>
    <div class="row">
      <div class="field label w15">ANNUAL REVENUES</div>
      <div class="field w15 right">$<%= money(data.locations?.[0]?.revenue || data.location1Revenue || data.annualRevenue || "") %></div>
      <div class="field label w15">OCCUPIED AREA</div>
      <div class="field w10"><%= data.locations?.[0]?.occupiedArea || data.location1OccupiedArea || "" %> SQ FT</div>
      <div class="field label w15">TOTAL BUILDING AREA</div>
      <div class="field w10"><%= data.locations?.[0]?.totalArea || data.location1TotalArea || "" %> SQ FT</div>
      <div class="field label w15">OPEN TO PUBLIC</div>
      <div class="field w5"><%= data.locations?.[0]?.openToPublic || data.location1OpenToPublic || "" %> SQ FT</div>
    </div>
    <div class="row">
      <div class="field label w25">ANY AREA LEASED TO OTHERS? Y/N</div>
      <div class="field w5"><%= yn(data.locations?.[0]?.leasedToOthers ?? data.location1LeasedToOthers) %></div>
      <div class="field label w25">DESCRIPTION OF OPERATIONS</div>
      <div class="field w45"><%= data.locations?.[0]?.description || data.location1Description || data.businessDescription || "" %></div>
    </div>
  </div>

  <!-- Nature of Business -->
  <div class="section">
    <div class="section-header">NATURE OF BUSINESS</div>
    <div class="row">
      <div class="field w100 checkbox-group">
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "APARTMENTS" ? "X" : "" %></span> APARTMENTS
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "CONDOMINIUMS" ? "X" : "" %></span> CONDOMINIUMS
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "CONTRACTOR" ? "X" : "" %></span> CONTRACTOR
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "INSTITUTIONAL" ? "X" : "" %></span> INSTITUTIONAL
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "MANUFACTURING" ? "X" : "" %></span> MANUFACTURING
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "OFFICE" ? "X" : "" %></span> OFFICE
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "RESTAURANT" ? "X" : "" %></span> RESTAURANT
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "RETAIL" ? "X" : "" %></span> RETAIL
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "SERVICE" ? "X" : "" %></span> SERVICE
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "WHOLESALE" ? "X" : "" %></span> WHOLESALE
        <span class="checkbox"><%= (data.business?.type || data.businessType) === "OTHER" ? "X" : "" %></span> OTHER
      </div>
    </div>
    <div class="row">
      <div class="field label w20">DATE BUSINESS STARTED</div>
      <div class="field w20"><%= data.business?.startDate || data.businessStartDate || "" %></div>
      <div class="field label w60">DESCRIPTION OF PRIMARY OPERATIONS</div>
    </div>
    <div class="row">
      <div class="field w100" style="min-height: 40px;"><%= data.primaryOperations || data.business?.description || data.businessDescription || "" %></div>
    </div>
    <div class="row">
      <div class="field label w40">RETAIL STORES OR SERVICE OPERATIONS % OF TOTAL SALES</div>
      <div class="field w10 right"><%= data.retailPercent || "" %>%</div>
      <div class="field label w40">INSTALLATION, SERVICE OR REPAIR WORK</div>
      <div class="field w10 right"><%= data.installationPercent || "" %>%</div>
    </div>
    <div class="row">
      <div class="field label w40">OFF PREMISES INSTALLATION, SERVICE OR REPAIR WORK</div>
      <div class="field w10 right"><%= data.offPremisesPercent || "" %>%</div>
      <div class="field label w50">DESCRIPTION OF OPERATIONS OF OTHER NAMED INSUREDS</div>
    </div>
    <div class="row">
      <div class="field w100" style="min-height: 30px;"><%= data.otherNamedInsuredsOperations || "" %></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer-text">
    ACORD 125 (2025/03) &nbsp;&nbsp;&nbsp; Page 2 of 5 &nbsp;&nbsp;&nbsp; Â© 1993-2025 ACORD CORPORATION. All rights reserved.
  </div>
</div>

<!-- PAGE 3 -->
<div class="page">
  <!-- ACORD Header -->
  <div class="acord-header">
    <span class="acord-logo">ACORD</span>
    <span class="form-title">COMMERCIAL INSURANCE APPLICATION</span>
    <span class="acord-code">125</span>
  </div>

  <!-- General Information Section -->
  <div class="section">
    <div class="section-header">GENERAL INFORMATION</div>

    <!-- 1a / 1b -->
    <div class="row">
      <div class="field label w5">1a.</div>
      <div class="field w45">IS THE APPLICANT A SUBSIDIARY OF ANOTHER ENTITY?</div>
      <div class="field w5"><%= yn(data.isSubsidiary ?? data.org?.isSubsidiary) %></div>
      <div class="field label w5">1b.</div>
      <div class="field w35">DOES THE APPLICANT HAVE ANY SUBSIDIARIES?</div>
      <div class="field w5"><%= yn(data.hasSubsidiaries ?? (Array.isArray(data.subsidiaries) && data.subsidiaries.length>0)) %></div>
    </div>

    <!-- Parent -->
    <div class="row">
      <div class="field label w20">PARENT COMPANY NAME</div>
      <div class="field w20"><%= data.parentCompanyName || data.org?.parent?.name || "" %></div>
      <div class="field label w15">RELATIONSHIP</div>
      <div class="field w15"><%= data.parentRelationship || data.org?.parent?.relationship || "" %></div>
      <div class="field label w10">DESCRIPTION</div>
      <div class="field w10"><%= data.parentDescription || data.org?.parent?.description || "" %></div>
      <div class="field label w5">% OWNED</div>
      <div class="field w5"><%= data.parentPercentOwned || data.org?.parent?.percentOwned || "" %></div>
    </div>

    <!-- Subsidiary (first; can be repeated later if needed) -->
    <div class="row">
      <div class="field label w20">SUBSIDIARY COMPANY NAME</div>
      <div class="field w20"><%= data.subsidiaryName || data.subsidiaries?.[0]?.name || "" %></div>
      <div class="field label w15">RELATIONSHIP</div>
      <div class="field w15"><%= data.subsidiaryRelationship || data.subsidiaries?.[0]?.relationship || "" %></div>
      <div class="field label w10">DESCRIPTION</div>
      <div class="field w10"><%= data.subsidiaryDescription || data.subsidiaries?.[0]?.description || "" %></div>
      <div class="field label w5">% OWNED</div>
      <div class="field w5"><%= data.subsidiaryPercentOwned || data.subsidiaries?.[0]?.percentOwned || "" %></div>
    </div>

    <!-- 2 -->
    <div class="row">
      <div class="field label w5">2.</div>
      <div class="field w45">IS A FORMAL SAFETY PROGRAM IN OPERATION?</div>
      <div class="field w5"><%= yn(data.hasSafetyProgram) %></div>
      <div class="field w45 checkbox-group">
        <span class="checkbox"><%= data.safetyManual ? "X" : "" %></span> SAFETY MANUAL
        <span class="checkbox"><%= data.safetyPosition ? "X" : "" %></span> SAFETY POSITION
        <span class="checkbox"><%= data.monthlyMeetings ? "X" : "" %></span> MONTHLY MEETINGS
        <span class="checkbox"><%= data.osha ? "X" : "" %></span> OSHA
      </div>
    </div>

    <!-- 3 -->
    <div class="row">
      <div class="field label w5">3.</div>
      <div class="field w45">ANY EXPOSURE TO FLAMMABLES, EXPLOSIVES, CHEMICALS?</div>
      <div class="field w5"><%= yn(data.hazardousExposure) %></div>
      <div class="field w45"></div>
    </div>

    <!-- 4 -->
    <div class="row">
      <div class="field label w5">4.</div>
      <div class="field w55">ANY OTHER INSURANCE WITH THIS COMPANY? (LIST POLICY NUMBERS)</div>
      <div class="field w5"><%= yn(data.otherInsurance) %></div>
      <div class="field w35"><%= data.otherPolicyNumbers || "" %></div>
    </div>

    <!-- 5 -->
    <div class="row">
      <div class="field label w5">5.</div>
      <div class="field w75">ANY POLICY OR COVERAGE DECLINED, CANCELLED OR NON-RENEWED DURING THE PRIOR THREE (3) YEARS?</div>
      <div class="field w5"><%= yn(data.coverageDeclined) %></div>
      <div class="field w15"></div>
    </div>
    <div class="row">
      <div class="field w20 checkbox-group">
        <span class="checkbox"><%= (data.declineReason === "NON-PAYMENT") ? "X" : "" %></span> NON-PAYMENT
      </div>
      <div class="field w30 checkbox-group">
        <span class="checkbox"><%= (data.declineReason === "AGENT") ? "X" : "" %></span> AGENT NO LONGER REPRESENTS CARRIER
      </div>
      <div class="field w25 checkbox-group">
        <span class="checkbox"><%= (data.declineReason === "NON-RENEWAL") ? "X" : "" %></span> NON-RENEWAL
      </div>
      <div class="field w25 checkbox-group">
        <span class="checkbox"><%= (data.declineReason === "UNDERWRITING") ? "X" : "" %></span> UNDERWRITING
      </div>
    </div>

    <!-- 6 -->
    <div class="row">
      <div class="field label w5">6.</div>
      <div class="field w75">ANY PAST LOSSES OR CLAIMS RELATING TO SEXUAL ABUSE OR MOLESTATION ALLEGATIONS, DISCRIMINATION OR NEGLIGENT HIRING?</div>
      <div class="field w5"><%= yn(data.sexualAbuseClaims) %></div>
      <div class="field w15"></div>
    </div>

    <!-- 7 -->
    <div class="row">
      <div class="field label w5">7.</div>
      <div class="field w90">DURING THE LAST FIVE YEARS (TEN IN RI), HAS ANY APPLICANT BEEN INDICTED FOR OR CONVICTED OF ANY DEGREE OF THE CRIME OF FRAUD, BRIBERY, ARSON OR ANY OTHER ARSON-RELATED CRIME?</div>
      <div class="field w5"><%= yn(data.criminalConviction) %></div>
    </div>

    <!-- 8 -->
    <div class="row">
      <div class="field label w5">8.</div>
      <div class="field w45">ANY UNCORRECTED FIRE AND/OR SAFETY CODE VIOLATIONS?</div>
      <div class="field w5"><%= yn(data.codeViolations) %></div>
      <div class="field w45"></div>
    </div>

    <!-- 9 -->
    <div class="row">
      <div class="field label w5">9.</div>
      <div class="field w90">HAS THE APPLICANT HAD A FORECLOSURE FILED AGAINST THEM, HAD A FORECLOSURE, REPOSSESSION, BANKRUPTCY OR FILED FOR BANKRUPTCY DURING THE LAST FIVE (5) YEARS?</div>
      <div class="field w5"><%= yn(data.bankruptcy) %></div>
    </div>

    <!-- 10 -->
    <div class="row">
      <div class="field label w5">10.</div>
      <div class="field w55">HAS APPLICANT HAD A JUDGMENT OR LIEN DURING THE LAST FIVE (5) YEARS?</div>
      <div class="field w5"><%= yn(data.judgementOrLien || data.judgmentOrLien) %></div>
      <div class="field w35"></div>
    </div>

    <!-- 11 -->
    <div class="row">
      <div class="field label w5">11.</div>
      <div class="field w45">HAS BUSINESS BEEN PLACED IN A TRUST?</div>
      <div class="field w5"><%= yn(data.inTrust) %></div>
      <div class="field label w15">NAME OF TRUST</div>
      <div class="field w30"><%= data.trustName || "" %></div>
    </div>

    <!-- 12 -->
    <div class="row">
      <div class="field label w5">12.</div>
      <div class="field w75">ANY FOREIGN OPERATIONS, FOREIGN PRODUCTS DISTRIBUTED IN USA, OR US PRODUCTS SOLD/DISTRIBUTED IN FOREIGN COUNTRIES?</div>
      <div class="field w5"><%= yn(data.foreignOperations) %></div>
      <div class="field w15"></div>
    </div>

    <!-- 13 -->
    <div class="row">
      <div class="field label w5">13.</div>
      <div class="field w55">DOES APPLICANT HAVE OTHER BUSINESS VENTURES FOR WHICH COVERAGE IS NOT REQUESTED?</div>
      <div class="field w5"><%= yn(data.otherBusinessVentures) %></div>
      <div class="field w35"></div>
    </div>

    <!-- 14 -->
    <div class="row">
      <div class="field label w5">14.</div>
      <div class="field w45">DOES APPLICANT OWN/LEASE/OPERATE ANY DRONES?</div>
      <div class="field w5"><%= yn(data.ownDrones) %></div>
      <div class="field w45"><%= data.droneUseDescription || "" %></div>
    </div>

    <!-- 15 -->
    <div class="row">
      <div class="field label w5">15.</div>
      <div class="field w45">DOES APPLICANT HIRE OTHERS TO OPERATE DRONES?</div>
      <div class="field w5"><%= yn(data.hireDroneOperators) %></div>
      <div class="field w45"><%= data.hireDroneDescription || "" %></div>
    </div>

    <!-- Explain YES -->
    <div class="row">
      <div class="field label w100">EXPLAIN ALL "YES" RESPONSES</div>
    </div>
    <div class="row">
      <div class="field w100" style="min-height: 60px;"><%= data.yesExplanations || "" %></div>
    </div>
  </div>

  <!-- Additional Interest Section -->
  <div class="section">
    <div class="section-header">ADDITIONAL INTEREST</div>
    <div class="row">
      <div class="field label w10">TYPE</div>
      <div class="field w15 checkbox-group">
        <span class="checkbox"><%= ((data.aiType || data.interests?.[0]?.type) === "ADDITIONAL_INSURED") ? "X" : "" %></span> ADDITIONAL INSURED
      </div>
      <div class="field w15 checkbox-group">
        <span class="checkbox"><%= ((data.aiType || data.interests?.[0]?.type) === "LIENHOLDER") ? "X" : "" %></span> LIENHOLDER
      </div>
      <div class="field w15 checkbox-group">
        <span class="checkbox"><%= ((data.aiType || data.interests?.[0]?.type) === "LOSS_PAYEE") ? "X" : "" %></span> LOSS PAYEE
      </div>
      <div class="field w15 checkbox-group">
        <span class="checkbox"><%= ((data.aiType || data.interests?.[0]?.type) === "MORTGAGEE") ? "X" : "" %></span> MORTGAGEE
      </div>
      <div class="field w10 checkbox-group">
        <span class="checkbox"><%= ((data.aiType || data.interests?.[0]?.type) === "BREACH_WARRANTY") ? "X" : "" %></span> BREACH OF WARRANTY
      </div>
      <div class="field w20 checkbox-group">
        <span class="checkbox"><%= ((data.aiType || data.interests?.[0]?.type) === "LENDERS_LOSS") ? "X" : "" %></span> LENDER'S LOSS PAYABLE
      </div>
    </div>
    <div class="row">
      <div class="field label w20">INTEREST NAME AND ADDRESS</div>
      <div class="field w30"><%= data.aiName || data.interests?.[0]?.name || "" %></div>
      <div class="field label w10">RANK</div>
      <div class="field w5"><%= data.aiRank || data.interests?.[0]?.rank || "" %></div>
      <div class="field label w15">EVIDENCE</div>
      <div class="field w20 checkbox-group">
        <span class="checkbox"><%= ((data.aiEvidence || data.interests?.[0]?.evidence) === "CERTIFICATE") ? "X" : "" %></span> CERTIFICATE
        <span class="checkbox"><%= ((data.aiEvidence || data.interests?.[0]?.evidence) === "POLICY") ? "X" : "" %></span> POLICY
        <span class="checkbox"><%= ((data.aiEvidence || data.interests?.[0]?.evidence) === "SEND_BILL") ? "X" : "" %></span> SEND BILL
      </div>
    </div>
    <div class="row">
      <div class="field w50"><%= data.aiAddress || data.interests?.[0]?.address || "" %></div>
      <div class="field label w15">REFERENCE/LOAN #</div>
      <div class="field w35"><%= data.aiLoanNumber || data.interests?.[0]?.loanNumber || "" %></div>
    </div>
    <div class="row">
      <div class="field label w10">ITEM</div>
      <div class="field w15 checkbox-group">
        <span class="checkbox"><%= ((data.aiItemType || data.interests?.[0]?.itemType) === "LOCATION") ? "X" : "" %></span> LOCATION
        <span class="checkbox"><%= ((data.aiItemType || data.interests?.[0]?.itemType) === "BUILDING") ? "X" : "" %></span> BUILDING
        <span class="checkbox"><%= ((data.aiItemType || data.interests?.[0]?.itemType) === "VEHICLE") ? "X" : "" %></span> VEHICLE
        <span class="checkbox"><%= ((data.aiItemType || data.interests?.[0]?.itemType) === "BOAT") ? "X" : "" %></span> BOAT
      </div>
      <div class="field label w20">ITEM DESCRIPTION</div>
      <div class="field w55"><%= data.aiItemDescription || data.interests?.[0]?.itemDescription || "" %></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer-text">
    ACORD 125 (2025/03) &nbsp;&nbsp;&nbsp; Page 3 of 5 &nbsp;&nbsp;&nbsp; Â© 1993-2025 ACORD CORPORATION. All rights reserved.
  </div>
</div>

<!-- PAGE 4 -->
<div class="page">
  <!-- ACORD Header -->
  <div class="acord-header">
    <span class="acord-logo">ACORD</span>
    <span class="form-title">COMMERCIAL INSURANCE APPLICATION</span>
    <span class="acord-code">125</span>
  </div>

  <% 
    /* ---------- LOSS HISTORY PREP ---------- */
    // Prefer losses[]; else build from legacy loss1..loss4 fields
    let losses = Array.isArray(data.losses) ? data.losses.slice(0,4) : [];
    if (!losses.length) {
      const legacyLoss = idx => ({
        dateOfOccurrence: data[`loss${idx}Date`] || "",
        line: data[`loss${idx}Line`] || "",
        description: data[`loss${idx}Description`] || "",
        dateOfClaim: data[`loss${idx}ClaimDate`] || "",
        amountPaid: data[`loss${idx}AmountPaid`] || "",
        amountReserved: data[`loss${idx}AmountReserved`] || "",
        subrogation: data[`loss${idx}Subrogation`],
        open: data[`loss${idx}Open`]
      });
      losses = [1,2,3,4].map(legacyLoss);
    }

    const lossYearsBack = data.lossYearsBack || data.lossHistoryYears || "";       // underline box label
    const totalLossesAmount = data.totalLossesAmount || data.lossesTotal || "";    // underline box value

    /* ---------- PRIOR CARRIER PREP ---------- */
    // Expect entries like { year:1, category:"GL", carrier:"", policyNumber:"", premium:0, effectiveDate:"", expirationDate:"" }
    const priors = Array.isArray(data.priorCarrier) ? data.priorCarrier : [];
    const fmtMoney = v => (v || v === 0) ? money(v) : "";

    const getPrior = (year, category) => {
      // allow category synonyms
      const norm = (s) => (s || "").toUpperCase();
      const cat = norm(category);
      return priors.find(p => (p.year === year || p.yearIndex === year) && norm(p.category) === cat) || null;
    };
  %>

  <!-- Loss History Section -->
  <div class="section">
    <div class="section-header">LOSS HISTORY</div>
    <div class="row">
      <div class="field w100">
        ENTER ALL CLAIMS OR LOSSES (REGARDLESS OF FAULT AND WHETHER OR NOT INSURED) OR OCCURRENCES THAT MAY GIVE RISE TO CLAIMS<br/>
        FOR THE LAST <span style="text-decoration: underline;"><%= String(lossYearsBack).padEnd(5, " ") %></span> YEARS
        &nbsp;&nbsp;&nbsp;TOTAL LOSSES: $ <span style="text-decoration: underline;"><%= String(fmtMoney(totalLossesAmount)).padEnd(10, " ") %></span>
      </div>
    </div>
    <div class="row">
      <div class="field label w15 center">DATE OF<br/>OCCURRENCE</div>
      <div class="field label w10 center">LINE</div>
      <div class="field label w35 center">TYPE/DESCRIPTION OF OCCURRENCE OR CLAIM</div>
      <div class="field label w15 center">DATE OF CLAIM</div>
      <div class="field label w10 center">AMOUNT PAID</div>
      <div class="field label w10 center">AMOUNT RESERVED</div>
      <div class="field label w5 center">SUBRO-<br/>GATION<br/>Y/N</div>
      <div class="field label w5 center">CLAIM<br/>OPEN<br/>Y/N</div>
    </div>

    <% (losses || []).slice(0,4).forEach(function(L){ %>
      <div class="row">
        <div class="field w15"><%= L.dateOfOccurrence || "" %></div>
        <div class="field w10"><%= L.line || "" %></div>
        <div class="field w35"><%= L.description || "" %></div>
        <div class="field w15"><%= L.dateOfClaim || "" %></div>
        <div class="field w10 right">$<%= fmtMoney(L.amountPaid) %></div>
        <div class="field w10 right">$<%= fmtMoney(L.amountReserved) %></div>
        <div class="field w5 center"><%= yn(L.subrogation) %></div>
        <div class="field w5 center"><%= yn(L.open) %></div>
      </div>
    <% }) %>

    <div class="row">
      <div class="field w100 checkbox-group">
        <span class="checkbox"><%= data.noLosses ? "X" : "" %></span> Check if none (Attach Loss Summary for Additional Loss Information)
      </div>
    </div>
  </div>

  <!-- Prior Carrier Information Section -->
  <div class="section">
    <div class="section-header">PRIOR CARRIER INFORMATION (3 YEARS)</div>
    <div class="row">
      <div class="field label w15 center">CATEGORY</div>
      <div class="field label w25 center">CARRIER</div>
      <div class="field label w15 center">POLICY NUMBER</div>
      <div class="field label w10 center">PREMIUM</div>
      <div class="field label w10 center">EFFECTIVE DATE</div>
      <div class="field label w10 center">EXPIRATION DATE</div>
      <div class="field label w15 center">YEAR</div>
    </div>

    <% [1,2,3].forEach(function(Y){ 
         const gl = getPrior(Y,"GL") || {};
         const auto = getPrior(Y,"AUTO") || {};
         const prop = getPrior(Y,"PROPERTY") || {};
         const oth = getPrior(Y,"OTHER") || {};
    %>
      <!-- Year <%= Y %> - GL -->
      <div class="row" style="<%= Y>1 ? 'border-top: 2px solid #000;' : '' %>">
        <div class="field w15 checkbox-group">
          <span class="checkbox"><%= gl.category ? "X" : "" %></span> GENERAL LIABILITY
        </div>
        <div class="field w25"><%= gl.carrier || "" %></div>
        <div class="field w15"><%= gl.policyNumber || "" %></div>
        <div class="field w10 right">$<%= fmtMoney(gl.premium) %></div>
        <div class="field w10"><%= gl.effectiveDate || "" %></div>
        <div class="field w10"><%= gl.expirationDate || "" %></div>
        <div class="field w15 center"><%= Y %></div>
      </div>

      <!-- AUTO -->
      <div class="row">
        <div class="field w15 checkbox-group">
          <span class="checkbox"><%= auto.category ? "X" : "" %></span> AUTOMOBILE
        </div>
        <div class="field w25"><%= auto.carrier || "" %></div>
        <div class="field w15"><%= auto.policyNumber || "" %></div>
        <div class="field w10 right">$<%= fmtMoney(auto.premium) %></div>
        <div class="field w10"><%= auto.effectiveDate || "" %></div>
        <div class="field w10"><%= auto.expirationDate || "" %></div>
        <div class="field w15"></div>
      </div>

      <!-- PROPERTY -->
      <div class="row">
        <div class="field w15 checkbox-group">
          <span class="checkbox"><%= prop.category ? "X" : "" %></span> PROPERTY
        </div>
        <div class="field w25"><%= prop.carrier || "" %></div>
        <div class="field w15"><%= prop.policyNumber || "" %></div>
        <div class="field w10 right">$<%= fmtMoney(prop.premium) %></div>
        <div class="field w10"><%= prop.effectiveDate || "" %></div>
        <div class="field w10"><%= prop.expirationDate || "" %></div>
        <div class="field w15"></div>
      </div>

      <!-- OTHER -->
      <div class="row">
        <div class="field w15 checkbox-group">
          <span class="checkbox"><%= oth.category ? "X" : "" %></span> OTHER: <%= oth.otherType || oth.type || "" %>
        </div>
        <div class="field w25"><%= oth.carrier || "" %></div>
        <div class="field w15"><%= oth.policyNumber || "" %></div>
        <div class="field w10 right">$<%= fmtMoney(oth.premium) %></div>
        <div class="field w10"><%= oth.effectiveDate || "" %></div>
        <div class="field w10"><%= oth.expirationDate || "" %></div>
        <div class="field w15"></div>
      </div>
    <% }) %>
  </div>

  <!-- Remarks Section -->
  <div class="section">
    <div class="section-header">REMARKS / PROCESSING INSTRUCTIONS (ACORD 101 MAY BE ATTACHED IF MORE SPACE IS REQUIRED)</div>
    <div class="row">
      <div class="field w100" style="min-height: 80px;"><%= data.remarks || data.processingInstructions || "" %></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer-text">
    ACORD 125 (2025/03) &nbsp;&nbsp;&nbsp; Page 4 of 5 &nbsp;&nbsp;&nbsp; Â© 1993-2025 ACORD CORPORATION. All rights reserved.
  </div>
</div>

<!-- PAGE 5 -->
<div class="page">
  <!-- ACORD Header -->
  <div class="acord-header">
    <span class="acord-logo">ACORD</span>
    <span class="form-title">COMMERCIAL INSURANCE APPLICATION</span>
    <span class="acord-code">125</span>
  </div>

  <!-- Signature Section -->
  <div class="section">
    <div class="section-header">SIGNATURE</div>
    <div class="row">
      <div class="field w100" style="padding: 8px;">
        THE UNDERSIGNED IS AN AUTHORIZED REPRESENTATIVE OF THE APPLICANT AND REPRESENTS THAT REASONABLE INQUIRY HAS BEEN MADE TO OBTAIN THE 
        ANSWERS TO QUESTIONS ON THIS APPLICATION. HE/SHE REPRESENTS THAT THE ANSWERS ARE TRUE, CORRECT AND COMPLETE TO THE BEST OF HIS/HER 
        KNOWLEDGE.
      </div>
    </div>

    <!-- Producer signature line -->
    <div class="row">
      <div class="field label w20">PRODUCER'S SIGNATURE</div>
      <div class="field w35" style="border-bottom: 1px solid #000;">
        <%= data.producerSignatureName || data.producerSignerName || "" %>
      </div>
      <div class="field label w20">PRODUCER'S NAME (PLEASE PRINT)</div>
      <div class="field w25">
        <%= data.producerPrintedName || data.producerContact || "" %>
      </div>
    </div>

    <div class="row">
      <div class="field label w20">STATE PRODUCER LICENSE NO</div>
      <div class="field w35"><%= data.producerStateLicense || "" %></div>
      <div class="field label w20">NATIONAL PRODUCER NUMBER</div>
      <div class="field w25"><%= data.producerNPN || "" %></div>
    </div>

    <!-- Applicant signature line -->
    <div class="row">
      <div class="field label w20">APPLICANT'S SIGNATURE</div>
      <div class="field w35" style="border-bottom: 1px solid #000;">
        <%= data.applicantSignatureName || data.namedInsured?.legalName || data.applicantName || "" %>
      </div>
      <div class="field label w10">DATE</div>
      <div class="field w35"><%= data.signatureDate || formatDate() %></div>
    </div>
  </div>

  <!-- SC cancellation notice -->
  <div class="section">
    <div class="section-header">NOTICE REGARDING CANCELLATION APPLICABLE IN SOUTH CAROLINA</div>
    <div class="row">
      <div class="field w100" style="font-size: 7pt; padding: 5px;">
        THE INSURER CAN CANCEL THIS POLICY FOR WHICH YOU ARE APPLYING WITHOUT CAUSE DURING THE FIRST 120 DAYS. THAT IS THE INSURER'S CHOICE. 
        AFTER THE FIRST 120 DAYS, THE INSURER CAN ONLY CANCEL THIS POLICY FOR REASONS STATED IN THE POLICY.
      </div>
    </div>
  </div>

  <!-- Privacy notice acknowledgment -->
  <div class="section">
    <div class="row">
      <div class="field w100" style="font-size: 7pt; padding: 5px;">
        <strong>Copy of the Notice of Information Practices (Privacy) has been given to the applicant.</strong>
        (Not required in all states. Check your state's requirements.)
      </div>
    </div>
  </div>

  <!-- State-specific fraud warnings -->
  <div class="section">
    <div class="row">
      <div class="field w100" style="font-size: 6pt; padding: 5px; line-height: 1.3;">
        <strong>Applicable in AL, AR, LA, MD, NM, RI and WV:</strong> Any person who knowingly (or willfully)* presents a false or fraudulent 
        claim for payment of a loss or benefit or knowingly (or willfully)* presents false information in an application for insurance is 
        guilty of a crime and may be subject to fines and confinement in prison. *Applies in MD Only.<br/><br/>
        
        <strong>Applicable in CA:</strong> For your protection, California law requires the following to appear on this form: Any person who 
        knowingly presents false or fraudulent information to obtain or amend insurance coverage or to make a claim for the payment of a loss 
        is guilty of a crime and may be subject to fines and confinement in state prison.<br/><br/>
        
        <strong>Applicable in CO:</strong> It is unlawful to knowingly provide false, incomplete, or misleading facts or information to an 
        insurance company for the purpose of defrauding or attempting to defraud the company. Penalties may include imprisonment, fines, denial 
        of insurance and civil damages. Any insurance company or agent of an insurance company who knowingly provides false, incomplete, or 
        misleading facts or information to a policyholder or claimant for the purpose of defrauding or attempting to defraud the policyholder 
        or claimant with regard to a settlement or award payable from insurance proceeds shall be reported to the Colorado Division of Insurance 
        within the Department of Regulatory Agencies.<br/><br/>
        
        <strong>Applicable in DC:</strong> WARNING: It is a crime to provide false or misleading information to an insurer for the purpose of 
        defrauding the insurer or any other person. Penalties include imprisonment and/or fines. In addition, an insurer may deny insurance 
        benefits if false information materially related to a claim was provided by the applicant.<br/><br/>
        
        <strong>Applicable in FL and OK:</strong> Any person who knowingly and with intent to injure, defraud, or deceive any insurer files a 
        statement of claim or an application containing any false, incomplete, or misleading information is guilty of a felony (of the third 
        degree)*. *Applies in FL Only.<br/><br/>
        
        <strong>Applicable in KS:</strong> Any person who, knowingly and with intent to defraud, presents, causes to be presented or prepares 
        with knowledge or belief that it will be presented to or by an insurer, purported insurer, broker or any agent thereof, any written, 
        electronic, electronic impulse, facsimile, magnetic, oral, or telephonic communication or statement as part of, or in support of, an 
        application for the issuance of, or the rating of an insurance policy for personal or commercial insurance, or a claim for payment or 
        other benefit pursuant to an insurance policy for commercial or personal insurance which such person knows to contain materially false 
        information concerning any fact material thereto; or conceals, for the purpose of misleading, information concerning any fact material 
        thereto commits a fraudulent insurance act.<br/><br/>
        
        <strong>Applicable in KY, OH and PA:</strong> Any person who knowingly and with intent to defraud any insurance company or other person 
        files an application for insurance or statement of claim containing any materially false information or conceals for the purpose of 
        misleading, information concerning any fact material thereto commits a fraudulent insurance act, which is a crime and subjects such 
        person to criminal and civil penalties.<br/><br/>
        
        <strong>Applicable in ME, TN, VA and WA:</strong> It is a crime to knowingly provide false, incomplete or misleading information to an 
        insurance company for the purpose of defrauding the company. Penalties (may)* include imprisonment, fines and denial of insurance 
        benefits. *Applies in ME Only.<br/><br/>
        
        <strong>Applicable in NJ:</strong> Any person who includes any false or misleading information on an application for an insurance policy 
        is subject to criminal and civil penalties.<br/><br/>
        
        <strong>Applicable in NY:</strong> Any person who knowingly and with intent to defraud any insurance company or other person files an 
        application for insurance or statement of claim containing any materially false information, or conceals for the purpose of misleading, 
        information concerning any fact material thereto, commits a fraudulent insurance act, which is a crime, and shall also be subject to a 
        civil penalty not to exceed five thousand dollars and the stated value of the claim for each such violation.<br/><br/>
        
        <strong>Applicable in OR:</strong> Any person who knowingly and with intent to defraud or solicit another to defraud the insurer by 
        submitting an application containing a false statement as to any material fact may be violating state law.<br/><br/>
        
        <strong>Applicable in PR:</strong> Any person who knowingly and with the intention of defrauding presents false information in an 
        insurance application, or presents, helps, or causes the presentation of a fraudulent claim for the payment of a loss or any other 
        benefit, or presents more than one claim for the same damage or loss, shall incur a felony and, upon conviction, shall be sanctioned 
        for each violation by a fine of not less than five thousand dollars ($5,000) and not more than ten thousand dollars ($10,000), or a 
        fixed term of imprisonment for three (3) years, or both penalties. Should aggravating circumstances be present, the penalty thus 
        established may be increased to a maximum of five (5) years, if extenuating circumstances are present, it may be reduced to a minimum 
        of two (2) years.
      </div>
    </div>
  </div>

  <!-- Agency Customer ID -->
  <div class="section">
    <div class="row">
      <div class="field label w20">AGENCY CUSTOMER ID</div>
      <div class="field w80"><%= data.agencyCustomerId || "" %></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer-text">
    ACORD 125 (2025/03) &nbsp;&nbsp;&nbsp; Page 5 of 5 &nbsp;&nbsp;&nbsp; Â© 1993-2025 ACORD CORPORATION. All rights reserved.<br/>
    The ACORD name and logo are registered marks of ACORD
  </div>
</div>




